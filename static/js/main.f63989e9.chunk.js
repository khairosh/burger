(this.webpackJsonpburger=this.webpackJsonpburger||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports={BreadTop:"style_BreadTop__2GlOe",Seed:"style_Seed__2ReSl",Second:"style_Second__1jbaA",Third:"style_Third__2R-bS",Fourth:"style_Fourth__236fy",Salad:"style_Salad__2ZYZG",Meat:"style_Meat__3E662",Cheese:"style_Cheese__1pNpQ",Bacon:"style_Bacon__2sqrA",BreadBottom:"style_BreadBottom__G7YAP"}},,,,,,,,,,function(e,t,n){e.exports={Sidebar:"style_Sidebar__1oHF8",Open:"style_Open__2napx",Close:"style_Close__2ajkU",Logo:"style_Logo__GpWiM"}},,,function(e,t,n){e.exports={BuildControl:"style_BuildControl__tKCmt",Label:"style_Label__23XPO",Less:"style_Less__13eQz",More:"style_More__2IjOE"}},,,,,function(e,t,n){e.exports={MenuItem:"style_MenuItem__2b3V6",active:"style_active__1W8uu"}},,,function(e,t,n){e.exports={Toolbar:"style_Toolbar__G9Kn7",HideOnMobile:"style_HideOnMobile__2Zsey"}},function(e,t,n){e.exports={BuildControls:"style_BuildControls__2Ogzw",OrderButton:"style_OrderButton__2iUPh",enable:"style_enable__27TQj"}},function(e,t,n){e.exports={Button:"style_Button__3WWtK",Success:"style_Success__HUysc",Danger:"style_Danger__3HJJ_"}},,,,,,,,,,,,function(e,t,n){e.exports={Content:"style_Content__jDdIC"}},function(e,t,n){e.exports={HamburgerMenu:"style_HamburgerMenu__30W9H"}},function(e,t,n){e.exports={Logo:"style_Logo__2bieD"}},function(e,t,n){e.exports={Menu:"style_Menu__3tuNX"}},function(e,t,n){e.exports={Burger:"style_Burger__upk9K"}},function(e,t,n){e.exports={Shadow:"style_Shadow__28et6"}},function(e,t,n){e.exports={Modal:"style_Modal__2xfBD"}},function(e,t,n){e.exports={Loader:"style_Loader__3B7qY",load1:"style_load1__2nXOd"}},function(e,t,n){e.exports={Order:"style_Order__3BlI_"}},function(e,t,n){e.exports={Contact:"style_Contact__2rQCL"}},function(e,t,n){e.exports={ShippingPage:"style_ShippingPage__hdIKy"}},function(e,t,n){e.exports={Login:"style_Login__10C7U"}},function(e,t,n){e.exports={Signup:"style_Signup__zpImn"}},,,,,,function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1),s=n.n(o),c=n(22),a=n.n(c),i=(n(64),n(17)),u=n(6),l=n(7),d=n(9),j=n(8),b=n(4),p=n(5),O=n(46),g=n.n(O),h=n(47),f=n.n(h),x=function(e){return Object(r.jsxs)("div",{className:f.a.HamburgerMenu,onClick:e.toggleSidebar,children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})},_=n(48),m=n.n(_),S=n.p+"static/media/burger-logo.ec69c7f6.png",y=function(e){return Object(r.jsx)("div",{className:m.a.Logo,children:Object(r.jsx)("img",{src:S})})},v=n(29),R=n.n(v),I=n(15),C=function(e){return Object(r.jsx)("li",{className:R.a.MenuItem,children:Object(r.jsx)(I.b,{exact:e.exact,activeClassName:R.a.active,to:e.link,children:e.children})})},N=n(49),w=n.n(N),E=Object(b.b)((function(e){return{userId:e.signupLoginReducer.userId}}))((function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("ul",{className:w.a.Menu,children:e.userId?Object(r.jsxs)(o.Fragment,{children:[Object(r.jsx)(C,{exact:!0,link:"/",children:"\u0428\u0438\u043d\u044d \u0437\u0430\u0445\u0438\u0430\u043b\u0433\u0430"}),Object(r.jsx)(C,{link:"/orders",children:"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u0430"}),Object(r.jsx)(C,{link:"/logout",children:"\u0413\u0430\u0440\u0430\u0445"})]}):Object(r.jsxs)(o.Fragment,{children:[Object(r.jsx)(C,{link:"/login",children:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"}),Object(r.jsx)(C,{link:"/signup",children:"\u0411\u04af\u0440\u0442\u0433\u04af\u04af\u043b\u044d\u0445"})]})})})})),k=n(32),T=n.n(k),D=function(e){return Object(r.jsxs)("header",{className:T.a.Toolbar,children:[Object(r.jsx)(x,{toggleSidebar:e.toggleSidebar}),Object(r.jsx)(y,{}),Object(r.jsx)("nav",{className:T.a.HideOnMobile,children:Object(r.jsx)(E,{})})]})},L=(n(70),n(50)),M=n.n(L),P=n(11),A=n.n(P),B=function(e){return"bread-top"===e.type?Object(r.jsxs)("div",{className:A.a.BreadTop,children:[Object(r.jsx)("div",{className:A.a.Seed}),Object(r.jsx)("div",{className:"".concat(A.a.Seed," ").concat(A.a.Second)}),Object(r.jsx)("div",{className:"".concat(A.a.Seed," ").concat(A.a.Third)}),Object(r.jsx)("div",{className:"".concat(A.a.Seed," ").concat(A.a.Fourth)})]}):"meat"===e.type?Object(r.jsx)("div",{className:A.a.Meat}):"salad"===e.type?Object(r.jsx)("div",{className:A.a.Salad}):"cheese"===e.type?Object(r.jsx)("div",{className:A.a.Cheese}):"bacon"===e.type?Object(r.jsx)("div",{className:A.a.Bacon}):Object(r.jsx)("div",{className:A.a.BreadBottom})},U=Object(b.b)((function(e){return{ingredients:e.burgerReducer.ingredients}}))(Object(p.g)((function(e){console.log("== Burger =="),console.log(e);var t=Object.entries(e.ingredients),n=[];return t.map((function(e){for(var t=0;t<e[1];t++)n.push(Object(r.jsx)(B,{type:e[0]},"".concat(e[0]).concat(t)))})),0===n.length&&(n=Object(r.jsx)("p",{children:"\u0425\u0430\u0447\u0438\u0440\u0442\u0430\u0439 \u0442\u0430\u043b\u0445\u043d\u044b\u0445\u0430\u0430 \u043e\u0440\u0446\u044b\u0433 \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443..."})),console.log(t),Object(r.jsxs)("div",{className:M.a.Burger,children:[Object(r.jsx)(B,{type:"bread-top"}),n,Object(r.jsx)(B,{type:"bread-bottom"})]})}))),G=n(2),F=n(33),H=n.n(F),V=n(24),z=n.n(V),W=function(e){return Object(r.jsxs)("div",{className:z.a.BuildControl,children:[Object(r.jsx)("div",{className:z.a.Label,children:e.text}),Object(r.jsx)("button",{disabled:e.disabled[e.type],onClick:function(){return e.decreaseIngredient(e.type)},className:z.a.Less,children:"\u0425\u0430\u0441\u0430\u0445"}),Object(r.jsx)("button",{onClick:function(){return e.increaseIngredient(e.type)},className:z.a.More,children:"\u041d\u044d\u043c\u044d\u0445"})]})},X=Object(b.b)((function(e){return{ingredients:e.burgerReducer.ingredients,totalPrice:e.burgerReducer.totalPrice,ingredientNames:e.burgerReducer.ingredientNames,purchasing:e.burgerReducer.purchasing}}),(function(e){return{increaseIngredient:function(t){return e(function(e){return{type:"ADD_INGREDIENT",ortsNer:e}}(t))},decreaseIngredient:function(t){return e(function(e){return{type:"REMOVE_INGREDIENT",ortsNer:e}}(t))}}}))((function(e){var t=Object(G.a)({},e.ingredients);for(var n in t)t[n]=t[n]<=0;return Object(r.jsxs)("div",{className:H.a.BuildControls,children:[Object(r.jsxs)("p",{children:["\u0411\u0443\u0440\u0433\u0435\u0440\u0438\u0439\u043d \u04af\u043d\u044d: ",Object(r.jsxs)("strong",{children:[" ",e.totalPrice," "]})]}),Object.keys(e.ingredientNames).map((function(n){return Object(r.jsx)(W,{disabled:t,increaseIngredient:e.increaseIngredient,decreaseIngredient:e.decreaseIngredient,type:n,text:e.ingredientNames[n]},n)})),Object(r.jsx)("button",{disabled:!e.purchasing,className:H.a.OrderButton,onClick:e.showConfirmModal,children:"\u0417\u0410\u0425\u0418\u0410\u041b\u0410\u0425"}),Object(r.jsx)("br",{})]})})),Y=n(51),J=n.n(Y),q=function(e){return e.show?Object(r.jsx)("div",{className:J.a.Shadow,onClick:e.onClick}):null},K=n(52),Q=n.n(K),Z=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(q,{show:e.show,onClick:e.closeConfirmModal}),Object(r.jsx)("div",{className:Q.a.Modal,style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"},children:e.children})]})},$=n(34),ee=n.n($),te=function(e){return Object(r.jsx)("button",{onClick:e.clicked,className:"".concat(ee.a.Button," ").concat(ee.a[e.btnType]),children:e.text})},ne=(n(71),Object(b.b)((function(e){return{ingredients:e.burgerReducer.ingredients,ingredientNames:e.burgerReducer.ingredientNames,totalPrice:e.burgerReducer.totalPrice}}),(function(e){return{}}))((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"\u0422\u0430\u043d\u044b \u0437\u0430\u0445\u0438\u0430\u043b\u0433\u0430"}),Object(r.jsx)("p",{children:"\u0422\u0430\u043d\u044b \u0441\u043e\u043d\u0433\u043e\u0441\u043e\u043d \u043e\u0440\u0446\u0443\u0443\u0434:"}),Object(r.jsx)("ul",{children:Object.entries(e.ingredients).map((function(t){return Object(r.jsxs)("li",{children:[e.ingredientNames[t[0]]," : ",t[1]]},t[0])}))}),Object(r.jsx)("p",{children:Object(r.jsxs)("strong",{children:["\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u044b\u043d \u0434\u04af\u043d: ",e.totalPrice,"\u20ae"]})}),Object(r.jsx)(te,{clicked:e.onCancel,btnType:"Danger",text:"\u0422\u0430\u0442\u0433\u0430\u043b\u0437\u0430\u0445"}),Object(r.jsx)(te,{clicked:e.onContinue,btnType:"Success",text:"\u04ae\u0440\u0433\u044d\u043b\u0436\u043b\u04af\u04af\u043b\u044d\u0445"})]})}))),re=n(53),oe=n.n(re),se=function(e){return Object(r.jsx)("div",{className:oe.a.Loader,children:"Spinner"})},ce=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={confirmOrder:!1,lastCustName:"N/A",loading:!1},e.increaseIngredient=function(e){},e.decreaseIngredient=function(e){},e.continueOrder=function(){e.props.history.push({pathname:"/ship"}),e.closeConfirmModal()},e.showConfirmModal=function(){e.setState({confirmOrder:!0})},e.closeConfirmModal=function(){e.setState({confirmOrder:!1})},e.componentDidMount=function(){},e}return Object(l.a)(n,[{key:"render",value:function(){return console.log(">> Redux",this.props),Object(r.jsxs)("div",{children:[Object(r.jsx)(Z,{show:this.state.confirmOrder,closeConfirmModal:this.closeConfirmModal,children:Object(r.jsx)(ne,{onCancel:this.closeConfirmModal,onContinue:this.continueOrder})}),this.state.loading&&Object(r.jsx)(se,{}),Object(r.jsx)(U,{}),Object(r.jsx)(X,{showConfirmModal:this.showConfirmModal})]})}}]),n}(o.Component),ae=n(21),ie=n.n(ae),ue=function(e){var t=[ie.a.Sidebar,ie.a.Close];return e.showSidebar&&(t=[ie.a.Sidebar,ie.a.Open]),Object(r.jsxs)("div",{children:[Object(r.jsx)(q,{show:e.showSidebar,onClick:e.toggleSidebar}),Object(r.jsx)("div",{className:t.join(" "),children:Object(r.jsxs)("div",{className:ie.a.Logo,children:[Object(r.jsx)(y,{}),Object(r.jsx)(E,{})]})})]})},le=n(20),de=n.n(le),je=de.a.create({baseURL:"https://burger-2635b-default-rtdb.firebaseio.com/"}),be=n(54),pe=n.n(be),Oe=function(e){return console.log(e.order),Object(r.jsxs)("div",{className:pe.a.Order,children:[Object(r.jsxs)("p",{children:["\u0417\u0430\u0445\u0438\u0430\u043b\u0430\u0433\u0447: ",e.order.address.custName]}),Object(r.jsxs)("p",{children:["\u0425\u0430\u044f\u0433: ",e.order.address.street," | ",e.order.address.city]}),Object(r.jsxs)("p",{children:["\u04ae\u043d\u0438\u0439\u043d \u0434\u04af\u043d: ",Object(r.jsxs)("strong",{children:[e.order.totalPrice,"\u20ae"]})]}),Object(r.jsx)("p",{children:"\u041e\u0440\u0446: "}),Object(r.jsx)("div",{style:{display:"flex",flexFlow:"row"},children:Object.entries(e.order.ingredients).map((function(e){return Object(r.jsxs)("p",{style:{margin:"5px"},children:[e[0]," : ",Object(r.jsx)("strong",{children:e[1]})]},e[0])}))})]})},ge=function(){return{type:"LOAD_ORDERS_START"}},he=function(e){return{type:"LOAD_ORDERS_SUCCESS",orders:e}},fe=function(e){return{type:"LOAD_ORDERS_ERROR",error:e}},xe=function(){return{type:"SAVE_ORDER_START"}},_e=function(){return{type:"SAVE_ORDER_SUCCESS"}},me=function(e){return{type:"SAVE_ORDER_ERROR",error:e}},Se=(n(90),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.loadOrders(this.props.userId)}},{key:"render",value:function(){return console.log(this.props.orders),Object(r.jsx)("div",{children:this.props.loading?Object(r.jsx)(se,{}):this.props.orders.map((function(e){return Object(r.jsx)(Oe,{order:e[1]},e[0])}))})}}]),n}(o.Component)),ye=Object(b.b)((function(e){return{loading:e.orderReducer.loading,orders:e.orderReducer.orders,userId:e.signupLoginReducer.userId}}),(function(e){return{loadOrders:function(t){return e(function(e){return function(t,n){t(ge());var r=n().signupLoginReducer.token;je.get("orders.json?auth=".concat(r,'&orderBy="userId"&equalTo="').concat(e,'"')).then((function(e){var n=Object.entries(e.data).reverse();t(he(n))})).catch((function(e){t(fe(e))}))}}(t))}}}))(Se),ve=n(55),Re=n.n(ve),Ie=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={custName:null,city:null,stree:null},e.changedName=function(t){e.setState({custName:t.target.value})},e.changedCity=function(t){e.setState({city:t.target.value})},e.changedStreet=function(t){e.setState({street:t.target.value})},e.saveOrder=function(){var t={ingredients:e.props.ingredients,totalPrice:e.props.totalPrice,address:{custName:e.state.custName,city:e.state.city,street:e.state.street},userId:e.props.userId};e.props.saveOrderAction(t)},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){this.props.newOrderStatus.finished&&this.props.history.replace("/orders")}},{key:"render",value:function(){return this.props.newOrderStatus.saving?Object(r.jsx)(se,{}):Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:this.props.newOrderStatus.error&&"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u044b\u0433 \u0445\u0430\u0434\u0433\u0430\u043b\u0430\u0445 \u044f\u0432\u0446\u0430\u0434 \u0430\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430: "+this.props.newOrderStatus.error}),Object(r.jsxs)("div",{className:Re.a.Contact,children:[Object(r.jsx)("input",{onChange:this.changedName,type:"text",name:"custName",placeholder:"\u0422\u0430\u043d\u044b \u043d\u044d\u0440"}),Object(r.jsx)("input",{onChange:this.changedCity,type:"text",name:"city",placeholder:"\u0425\u043e\u0442"}),Object(r.jsx)("input",{onChange:this.changedStreet,type:"text",name:"street",placeholder:"\u0413\u044d\u0440\u0438\u0439\u043d \u0445\u0430\u044f\u0433"}),Object(r.jsx)(te,{text:"\u0418\u041b\u0413\u042d\u042d\u0425",btnType:"Success",clicked:this.saveOrder})]})]})}}]),n}(o.Component),Ce=Object(b.b)((function(e){return{totalPrice:e.burgerReducer.totalPrice,ingredients:e.burgerReducer.ingredients,newOrderStatus:e.orderReducer.newOrder,userId:e.signupLoginReducer.userId}}),(function(e){return{saveOrderAction:function(t){return e(function(e){return function(t,n){t(xe());var r=n().signupLoginReducer.token;je.post("orders.json?auth=".concat(r),e).then((function(e){t(_e())})).catch((function(e){t(me(e))}))}}(t))}}}))(Object(p.g)(Ie)),Ne=n(56),we=n.n(Ne),Ee=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={ingredients:null,totalPrice:0},e.goBack=function(){e.props.history.goBack()},e.showContactData=function(){e.props.history.replace("/ship/contact")},e}return Object(l.a)(n,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){console.log("DidMount() : After render")}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:we.a.ShippingPage,children:[Object(r.jsx)("p",{style:{fontSize:"20px"},children:Object(r.jsx)("strong",{children:"\u0422\u0430\u043d\u044b \u0437\u0430\u0445\u0438\u0430\u043b\u0433\u0430 \u0430\u043c\u0442\u0442\u0430\u0439 \u0431\u0430\u0439\u0445 \u0431\u043e\u043b\u043d\u043e \u0433\u044d\u0436 \u043d\u0430\u0439\u0434\u0430\u0436 \u0431\u0430\u0439\u043d\u0430"})}),Object(r.jsxs)("p",{style:{fontSize:"20px"},children:["\u0414\u04af\u043d: ",Object(r.jsxs)("strong",{children:[this.props.totalPrice,"\u20ae"]})]}),Object(r.jsx)(U,{}),Object(r.jsx)(te,{text:"\u0417\u0410\u0425\u0418\u0410\u041b\u0413\u042b\u0413 \u0426\u0423\u0426\u041b\u0410\u0425",clicked:this.goBack,btnType:"Danger"}),Object(r.jsx)(te,{text:"\u0425\u04ae\u0420\u0413\u042d\u041b\u0422\u0418\u0419\u041d \u041c\u042d\u0414\u042d\u042d\u041b\u042d\u041b \u041e\u0420\u0423\u0423\u041b\u0410\u0425",clicked:this.showContactData,btnType:"Success"}),Object(r.jsx)(p.b,{path:"/ship/contact",render:function(){return Object(r.jsx)(Ce,{})}})]})}}]),n}(o.Component),ke=Object(b.b)((function(e){return{totalPrice:e.burgerReducer.totalPrice}}))(Ee),Te=function(){return{type:"LOGIN_USER_START"}},De=function(e,t){return{type:"LOGIN_USER_SUCCESS",userId:e,token:t}},Le=function(e){return{type:"LOGIN_USER_ERROR",error:e}},Me=function(){return localStorage.removeItem("userId"),localStorage.removeItem("token"),localStorage.removeItem("expireDate"),localStorage.removeItem("refreshToken"),{type:"LOGOUT"}},Pe=function(e){return function(t){setTimeout((function(){t(Me())}),e)}},Ae=n(57),Be=n.n(Ae),Ue=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={email:"",password:""},e.login=function(){e.props.login(e.state.email,e.state.password)},e.changeEmail=function(t){e.setState({email:t.target.value})},e.changePassword=function(t){e.setState({password:t.target.value})},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){this.props.userId&&this.props.history.push("/orders")}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:Be.a.Login,children:[this.props.userId&&Object(r.jsx)(p.a,{to:"/orders"}),Object(r.jsx)("input",{onChange:this.changeEmail,type:"text",placeholder:"\u0418\u043c\u044d\u0439\u043b \u0445\u0430\u044f\u0433"}),Object(r.jsx)("input",{onChange:this.changePassword,type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433"}),this.props.error&&Object(r.jsx)("div",{style:{color:"red"},children:this.props.error}),this.props.logginIn?Object(r.jsx)(se,{}):Object(r.jsx)(te,{text:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445",btnType:"Success",clicked:this.login})]})}}]),n}(o.Component),Ge=Object(b.b)((function(e){return{logginIn:e.signupLoginReducer.logginIn,error:e.signupLoginReducer.error,userId:e.signupLoginReducer.userId}}),(function(e){return{login:function(t,n){return e(function(e,t){return function(n){n(Te());var r={email:e,password:t,returnSecureToken:!0};de.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCSfzAXHoRLarvFYFEB81_AaBnqlecVJ8E",r).then((function(e){var t=e.data.localId,r=e.data.idToken,o=parseInt(e.data.expiresIn),s=e.data.refreshToken,c=new Date((new Date).getTime()+1e3*o);localStorage.setItem("token",r),localStorage.setItem("userId",t),localStorage.setItem("expireDate",c),localStorage.setItem("refreshToken",s),n(De(t,r)),n(Pe(1e3*o))})).catch((function(e){n(Le(e))}))}}(t,n))}}}))(Ue),Fe=n(58),He=n.n(Fe),Ve=function(){return{type:"SIGNUP_USER_START"}},ze=function(e,t){return{type:"SIGNUP_USER_SUCCESS",userId:e,token:t}},We=function(e){return{type:"SIGNUP_USER_ERROR",error:e}},Xe=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={email:"",password:"",passwordConfirm:"",error:""},e.signup=function(){e.state.password!==e.state.passwordConfirm?e.setState({error:"\u041d\u0443\u0443\u0446 \u04af\u0433\u044d\u044d \u0437\u04e9\u0432 \u0434\u0430\u0432\u0442\u0430\u043d\u0430 \u0443\u0443!"}):(e.setState({error:""}),e.props.signupUser(e.state.email,e.state.password))},e.changeEmail=function(t){e.setState({email:t.target.value})},e.changePassword=function(t){e.setState({password:t.target.value})},e.changePasswordConfirm=function(t){e.setState({passwordConfirm:t.target.value})},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:He.a.Signup,children:[this.props.userId&&Object(r.jsx)(p.a,{to:"/orders"}),Object(r.jsx)("h3",{children:"\u041c\u044d\u0434\u044d\u044d\u043b\u043b\u044d\u044d \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443"}),Object(r.jsx)("input",{onChange:this.changeEmail,type:"text",placeholder:"\u0418\u043c\u044d\u0439\u043b \u0445\u0430\u044f\u0433"}),Object(r.jsx)("input",{onChange:this.changePassword,type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433"}),Object(r.jsx)("input",{onChange:this.changePasswordConfirm,type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433\u044d\u044d \u0434\u0430\u0432\u0442\u0430\u043d\u0430 \u0443\u0443"}),this.state.error&&Object(r.jsx)("div",{style:{color:"red"},children:this.state.error}),this.props.error&&Object(r.jsx)("div",{style:{color:"red"},children:this.props.error}),this.props.saving?Object(r.jsx)(se,{}):Object(r.jsx)(te,{text:"\u0411\u04af\u0440\u0442\u0433\u04af\u04af\u043b\u044d\u0445",btnType:"Success",clicked:this.signup})]})}}]),n}(o.Component),Ye=Object(b.b)((function(e){return{saving:e.signupLoginReducer.saving,error:e.signupLoginReducer.error,userId:e.signupLoginReducer.userId}}),(function(e){return{signupUser:function(t,n){return e(function(e,t){return function(n){n(Ve());var r={email:e,password:t,returnSecureToken:!0};de.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCSfzAXHoRLarvFYFEB81_AaBnqlecVJ8E",r).then((function(e){var t=e.data.localId,r=e.data.idToken,o=parseInt(e.data.expiresIn),s=e.data.refreshToken,c=new Date((new Date).getTime()+1e3*o);localStorage.setItem("token",r),localStorage.setItem("userId",t),localStorage.setItem("expireDate",c),localStorage.setItem("refreshToken",s),n(ze(t,r)),Pe(1e3*o)})).catch((function(e){n(We(e))}))}}(t,n))}}}))(Xe),Je=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.logout()}},{key:"render",value:function(){return Object(r.jsx)(p.a,{to:"/"})}}]),n}(o.Component),qe=Object(b.b)(null,(function(e){return{logout:function(){return e(Me())}}}))(Je),Ke=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state=Object(i.a)({showSidebar:!1},"showSidebar",!1),e.toggleSidebar=function(){e.setState((function(e){return{showSidebar:!e.showSidebar}}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");if(e){var t=localStorage.getItem("userId"),n=new Date(localStorage.getItem("expireDate"));localStorage.getItem("refreshToken");if(n>new Date){this.props.autoLogin(t,e);var r=n.getTime()-(new Date).getTime();this.props.autoLogout(r)}else this.props.logout()}}},{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(D,{toggleSidebar:this.toggleSidebar}),Object(r.jsx)(ue,{showSidebar:this.state.showSidebar,toggleSidebar:this.toggleSidebar}),Object(r.jsx)("main",{className:g.a.Content,children:this.props.userId?Object(r.jsxs)(p.d,{children:[Object(r.jsx)(p.b,{path:"/orders",component:ye}),Object(r.jsx)(p.b,{path:"/ship",component:ke}),Object(r.jsx)(p.b,{path:"/logout",component:qe}),Object(r.jsx)(p.b,{path:"/",component:ce})]}):Object(r.jsxs)(p.d,{children:[Object(r.jsx)(p.b,{path:"/login",component:Ge}),Object(r.jsx)(p.b,{path:"/signup",component:Ye}),Object(r.jsx)(p.a,{to:"/login"})]})})]})}}]),n}(o.Component),Qe=Object(b.b)((function(e){return{userId:e.signupLoginReducer.userId}}),(function(e){return{autoLogin:function(t,n){return e(De(t,n))},logout:function(){return e(Me())},autoLogout:function(t){return e(Me())}}}))(Ke),Ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,95)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),o(e),s(e),c(e)}))},$e=n(18),et=n(59),tt={cheese:250,bacon:800,meat:1500,salad:150},nt={ingredients:{salad:0,cheese:0,bacon:0,meat:0},totalPrice:500,purchasing:!1,ingredientNames:{bacon:"\u0413\u0430\u0445\u0430\u0439\u043d \u043c\u0430\u0445",meat:"\u04ae\u0445\u0440\u0438\u0439\u043d \u043c\u0430\u0445",cheese:"\u0411\u044f\u0441\u043b\u0430\u0433",salad:"\u0421\u0430\u043b\u0430\u0434"}},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;if(console.log(e,t),"ADD_INGREDIENT"===t.type)return Object(G.a)(Object(G.a)({},e),{},{ingredients:Object(G.a)(Object(G.a)({},e.ingredients),{},Object(i.a)({},t.ortsNer,e.ingredients[t.ortsNer]+1)),totalPrice:e.totalPrice+tt[t.ortsNer],purchasing:!0});if("REMOVE_INGREDIENT"===t.type){console.log("Removing ",t.ortsNer);var n=e.totalPrice-tt[t.ortsNer];return e.ingredients[t.ortsNer]>0?Object(G.a)(Object(G.a)({},e),{},{ingredients:Object(G.a)(Object(G.a)({},e.ingredients),{},Object(i.a)({},t.ortsNer,e.ingredients[t.ortsNer]-1)),totalPrice:n,purchasing:n>500}):Object(G.a)({},e)}return e},ot={orders:[],loading:!1,error:null,newOrder:{saving:!1,finished:!1,error:null}},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ORDERS_START":return Object(G.a)(Object(G.a)({},e),{},{loading:!0,error:null});case"LOAD_ORDERS_SUCCESS":return Object(G.a)(Object(G.a)({},e),{},{loading:!1,orders:t.orders,error:null});case"LOAD_ORDERS_ERROR":return Object(G.a)(Object(G.a)({},e),{},{loading:!1,error:t.error});case"SAVE_ORDER_START":return Object(G.a)(Object(G.a)({},e),{},{newOrder:Object(G.a)(Object(G.a)({},e.newOrder),{},{saving:!0,error:null,finished:!1})});case"SAVE_ORDER_SUCCESS":return Object(G.a)(Object(G.a)({},e),{},{newOrder:Object(G.a)(Object(G.a)({},e.newOrder),{},{saving:!1,error:null,finished:!0})});case"SAVE_ORDER_ERROR":return Object(G.a)(Object(G.a)({},e),{},{newOrder:Object(G.a)(Object(G.a)({},e.newOrder),{},{saving:!1,error:t.error,finished:!1})});case"RESET_ORDER":return Object(G.a)(Object(G.a)({},e),{},{newOrder:Object(G.a)(Object(G.a)({},e.newOrder),{},{saving:!1,error:null,finished:!1})});default:return e}},ct=(n(91),{saving:!1,logginIn:!1,error:null,token:null,userId:null}),at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP_USER_START":return Object(G.a)(Object(G.a)({},e),{},{saving:!0});case"SIGNUP_USER_SUCCESS":return Object(G.a)(Object(G.a)({},e),{},{saving:!1,error:null,token:t.token,userId:t.userId});case"SIGNUP_USER_ERROR":return console.log("Firebase error: ",t.error),Object(G.a)(Object(G.a)({},e),{},{saving:!1,error:t.error.response.data.error.message});case"LOGIN_USER_START":return Object(G.a)(Object(G.a)({},e),{},{logginIn:!0});case"LOGIN_USER_SUCCESS":return Object(G.a)(Object(G.a)({},e),{},{logginIn:!1,error:null,token:t.token,userId:t.userId});case"LOGIN_USER_ERROR":return console.log("Firebase error: ",t.error),Object(G.a)(Object(G.a)({},e),{},{logginIn:!1,error:t.error.response.data.error.message});case"LOGOUT":return Object(G.a)(Object(G.a)({},e),{},{userId:null,token:null,error:null});default:return e}},it=Object($e.c)({burgerReducer:rt,orderReducer:st,signupLoginReducer:at}),ut=[function(e){return function(t){return function(n){console.log("MyLoggerMiddleware: Dispatching ==> ",n),console.log("MyLoggerMiddleware: State before ==> ",e.getState());var r=t(n);return console.log("MyLoggerMiddleware: State after ==> ",e.getState()),r}}},et.a],lt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||$e.d,dt=Object($e.e)(it,lt($e.a.apply(void 0,ut)));a.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(b.a,{store:dt,children:Object(r.jsx)(I.a,{children:Object(r.jsx)(Qe,{})})})}),document.getElementById("root")),Ze()}],[[94,1,2]]]);
//# sourceMappingURL=main.f63989e9.chunk.js.map